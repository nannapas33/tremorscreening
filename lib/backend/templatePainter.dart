import 'package:flutter/cupertino.dart';
import 'dart:ui' as ui;
import 'package:flutter/material.dart';

class TemplatePainter extends CustomPainter {
  var offset = <Offset?>[];
  final _HLine = <Offset?>[];
  final _VLine = <Offset?>[];
  final _Spiral = <Offset?>[];
  final _Letters = <Offset?>[];
  int tempType;

  TemplatePainter(this.tempType) : super();

  List<Offset?> Spiral(){
    List<double> X = [179.5, 179.9253, 180.2924, 180.5887, 180.8027, 180.9237, 180.9424, 180.851, 180.6433, 180.3148, 179.8627, 179.2865, 178.5873, 177.7686, 176.8356, 175.7958, 174.6584, 173.4345, 172.1373, 170.7811, 169.382, 167.9574, 166.5256, 165.1058, 163.7179, 162.382, 161.1184, 159.9472, 158.888, 157.9597, 157.1801, 156.566, 156.1322, 155.8923, 155.8574, 156.0368, 156.4371, 157.0627, 157.9151, 158.9932, 160.293, 161.8078, 163.5279, 165.4409, 167.5318, 169.7828, 172.1738, 174.6822, 177.2837, 179.9519, 182.6589, 185.3755, 188.0716, 190.7165, 193.2792, 195.7286, 198.0343, 200.1666, 202.0969, 203.7982, 205.2454, 206.4154, 207.288, 207.8454, 208.0731, 207.9598, 207.498, 206.6834, 205.5159, 203.999, 202.1405, 199.9517, 197.4482, 194.649, 191.5771, 188.2588, 184.7238, 181.0046, 177.1366, 173.1576, 169.1072, 165.0269, 160.959, 156.9469, 153.0341, 149.264, 145.6793, 142.3216, 139.2308, 136.4449, 133.9991, 131.9261, 130.2547, 129.0104, 128.2144, 127.8836, 128.0304, 128.6621, 129.7813, 131.3852, 133.466, 136.0106, 139.001, 142.414, 146.2215, 150.391, 154.8853, 159.6636, 164.6811, 169.8898, 175.239, 180.6757, 186.145, 191.5909, 196.9568, 202.1859, 207.222, 212.0101, 216.4969, 220.6314, 224.3655, 227.6545, 230.4578, 232.7392, 234.4674, 235.6162, 236.1654, 236.1004, 235.4129, 234.101, 232.1691, 229.6283, 226.496, 222.7959, 218.5581, 213.8186, 208.619, 203.0062, 197.0323, 190.7534, 184.2298, 177.5249, 170.705, 163.8384, 156.9947, 150.244, 143.6568, 137.3023, 131.2484, 125.5609, 120.3025, 115.5321, 111.3046, 107.6698, 104.6721, 102.3498, 100.7349, 99.8524, 99.72, 100.348, 101.739, 103.888, 106.7818, 110.3996, 114.7131, 119.6862, 125.276, 131.4326, 138.0996, 145.2152, 152.7118, 160.5175, 168.5563, 176.749, 185.0141, 193.2684, 201.4278, 209.4083, 217.1271, 224.5029, 231.4571, 237.9147, 243.8049, 249.0619, 253.6259, 257.4433, 260.4678, 262.6604, 263.9906, 264.4361, 263.9834, 262.6282, 260.3751, 257.2382, 253.2404, 248.4139, 242.7995, 236.4463, 229.4117, 221.7603, 213.5638, 204.8998, 195.8519, 186.5079, 176.9598, 167.3022, 157.632, 148.0469, 138.6448, 129.5225, 120.7748, 112.4938, 104.7674, 97.6789, 91.3056, 85.7186, 80.9812, 77.149, 74.2687, 72.3778, 71.5041, 71.6652, 72.8686, 75.1112, 78.379, 82.648, 87.8836, 94.0409, 101.0657, 108.8942, 117.454, 126.6649, 136.4392, 146.6828, 157.2961, 168.1749, 179.2117, 190.2961, 201.3167, 212.1617, 222.7201, 232.8831, 242.5449, 251.604, 259.9642, 267.5355, 274.2354, 279.9893, 284.732, 288.4076, 290.9707, 292.3871, 292.6334, 291.6984, 289.5824, 286.2978, 281.8689, 276.3318, 269.7338, 262.1338, 253.6007, 244.2138, 234.0613, 223.24, 211.8541, 200.0142, 187.8364, 175.441, 162.9513, 150.4925, 138.1905, 126.1704, 114.5552, 103.4651, 93.0153, 83.3157, 74.4695, 66.5716, 59.7082, 53.9558, 49.3799, 46.0349, 43.9629, 43.1934, 43.7433, 45.6158, 48.8013, 53.2764, 59.0049, 65.9374, 74.0122, 83.1558, 93.283, 104.2985, 116.0973, 128.5657, 141.5826, 155.0206, 168.7471, 182.6258, 196.5181, 210.2841, 223.7845, 236.8818, 249.4415, 261.3337, 272.4346, 282.6274, 291.8037, 299.865, 306.7229, 312.301, 316.5352, 319.3744, 320.7815, 320.7334, 319.2217, 316.2525, 311.8468, 306.04, 298.8822, 290.437, 280.7816, 270.0058, 258.2113, 245.5106, 232.0259, 217.8882, 203.2358, 188.213, 172.9687, 157.6548, 142.4249, 127.4327, 112.8304, 98.7669, 85.3868, 72.8286, 61.2234, 50.6932, 41.3502, 33.295, 26.616, 21.3881, 17.6722, 15.5142, 14.9445, 15.9779, 18.6129, 22.8321, 28.6019, 35.8729, 44.5803, 54.6448, 65.9725, 78.4567, 91.9781, 106.4068, 121.6024, 137.4167, 153.694, 170.2734, 186.9897, 203.6759, 220.1641, 236.2875, 251.8824, 266.789, 280.8542, 293.9319, 305.8858, 316.5897];
    List<double> Y = [250, 249.5058, 248.9272, 248.2712, 247.5467, 246.7639, 245.9346, 245.0717, 244.1894, 243.3026, 242.4268, 241.5781, 240.7728, 240.0272, 239.3571, 238.7782, 238.305, 237.9513, 237.7295, 237.6508, 237.7245, 237.9582, 238.3577, 238.9263, 239.6654, 240.5741, 241.6489, 242.8841, 244.2717, 245.8012, 247.4598, 249.2328, 251.1033, 253.0524, 255.0597, 257.1034, 259.1602, 261.206, 263.2161, 265.1652, 267.0281, 268.7795, 270.3949, 271.8506, 273.1239, 274.1939, 275.041, 275.648, 275.9999, 276.0841, 275.891, 275.4136, 274.6484, 273.5948, 272.2556, 270.6371, 268.7486, 266.6032, 264.2168, 261.6089, 258.8016, 255.8201, 252.6921, 249.4477, 246.1189, 242.7397, 239.3453, 235.972, 232.6566, 229.4365, 226.3485, 223.4291, 220.7137, 218.2362, 216.0288, 214.1215, 212.5415, 211.3132, 210.4577, 209.9924, 209.931, 210.283, 211.0538, 212.2441, 213.8505, 215.8647, 218.274, 221.0614, 224.2052, 227.6795, 231.4547, 235.497, 239.7694, 244.2315, 248.8405, 253.5509, 258.3154, 263.0853, 267.8109, 272.4421, 276.929, 281.2223, 285.2737, 289.0368, 292.4675, 295.5243, 298.1689, 300.3668, 302.0877, 303.3056, 303.9995, 304.1534, 303.7569, 302.805, 301.2985, 299.2442, 296.6544, 293.5474, 289.947, 285.8829, 281.3895, 276.5067, 271.2788, 265.7544, 259.9859, 254.0291, 247.9423, 241.7862, 235.6232, 229.5165, 223.5295, 217.7254, 212.1665, 206.9132, 202.0236, 197.5531, 193.5531, 190.0711, 187.1499, 184.8269, 183.134, 182.0969, 181.735, 182.0608, 183.0799, 184.7911, 187.1857, 190.248, 193.9553, 198.2778, 203.1793, 208.6168, 214.5415, 220.8991, 227.6299, 234.6698, 241.9508, 249.4016, 256.9482, 264.5148, 272.0246, 279.4004, 286.5655, 293.4444, 299.9638, 306.0531, 311.6455, 316.6783, 321.0941, 324.8409, 327.8732, 330.1521, 331.6461, 332.3314, 332.1922, 331.2209, 329.4183, 326.7938, 323.3653, 319.159, 314.2094, 308.5589, 302.2576, 295.3625, 287.9376, 280.0527, 271.7831, 263.2088, 254.4136, 245.4846, 236.5111, 227.5834, 218.7927, 210.2294, 201.9826, 194.1389, 186.782, 179.9909, 173.8401, 168.3981, 163.7267, 159.8806, 156.9067, 154.8433, 153.7199, 153.5567, 154.3643, 156.1434, 158.8852, 162.5706, 167.1711, 172.6484, 178.955, 186.0346, 193.8226, 202.2466, 211.2268, 220.6776, 230.5074, 240.6201, 250.9161, 261.2928, 271.6459, 281.8707, 291.8626, 301.5187, 310.7385, 319.4251, 327.4863, 334.8353, 341.3918, 347.0831, 351.8444, 355.6199, 358.3633, 360.0385, 360.6199, 360.0925, 358.4527, 355.7081, 351.8776, 346.991, 341.0892, 334.2238, 326.4564, 317.8583, 308.5097, 298.4991, 287.9223, 276.8818, 265.4852, 253.8448, 242.0762, 230.2971, 218.6263, 207.1823, 196.0823, 185.4407, 175.3685, 165.9714, 157.3491, 149.5945, 142.7922, 137.0176, 132.3366, 128.8045, 126.4651, 125.3508, 125.4816, 126.8652, 129.4966, 133.3584, 138.4202, 144.6398, 151.9625, 160.3225, 169.6427, 179.8359, 190.8057, 202.4469, 214.6468, 227.2864, 240.2415, 253.3837, 266.5819, 279.7036, 292.616, 305.1878, 317.2899, 328.7975, 339.5906, 349.5557, 358.587, 366.5874, 373.4695, 379.1566, 383.5836, 386.6976, 388.4589, 388.8407, 387.8304, 385.4291, 381.6519, 376.5281, 370.1006, 362.4258, 353.5729, 343.6236, 332.671, 320.8191, 308.1814, 294.8802, 281.0452, 266.8122, 252.322, 237.7187, 223.1487, 208.7585, 194.6942, 181.0992, 168.1131, 155.8703, 144.4983, 134.1168, 124.8362, 116.7565, 109.9661, 104.541, 100.5438, 98.0233, 97.0135, 97.5335, 99.587, 103.1624, 108.2327, 114.7555, 122.6738, 131.916, 142.3968, 154.0181, 166.6695, 180.2297, 194.5677, 209.5437, 225.0108, 240.8164, 256.8034, 272.8122, 288.682, 304.2525, 319.3656, 333.8668, 347.607, 360.4438, 372.2434, 382.8813, 392.2444, 400.2315, 406.7548, 411.7408, 415.1312, 416.8831, 416.9701, 415.3823, 412.1268, 407.2272, 400.7241, 392.6741, 383.1499, 372.2395, 360.045, 346.6822];
    //List<double> X = [350.000000,351.013186,351.960483,352.778373,353.408017,353.797408,353.903332,353.693044,353.145640,352.253056,351.020671,349.467491,347.625904,345.541005,343.269507,340.878264,338.442441,336.043387,333.766252,331.697431,329.921893,328.520478,327.567229,327.126851,327.252360,327.982996,329.342471,331.337605,333.957395,337.172561,340.935587,345.181277,349.827813,354.778306,359.922823,365.140816,370.303936,375.279139,379.932030,384.130340,387.747478,390.666031,392.781158,394.003750,394.263299,393.510365,391.718601,388.886234,385.036980,380.220344,374.511272,368.009165,360.836244,353.135309,345.066913,336.806018,328.538204,320.455507,312.751975,305.619062,299.240948,293.789912,289.421867,286.272162,284.451779,284.044006,285.101689,287.645138,291.660756,297.100442,303.881796,311.889137,320.975338,330.964450,341.655059,352.824327,364.232634,375.628716,386.755196,397.354389,407.174241,415.974270,423.531378,429.645381,434.144128,436.888091,437.774288,436.739456,433.762367,428.865229,422.114119,413.618404,403.529178,392.036688,379.366829,365.776745,351.549630,336.988839,322.411415,308.141192,294.501602,281.808364,270.362206,260.441800,252.297057,246.142966,242.154102,240.459959,241.141215,244.227038,249.693508,257.463209,267.406028,279.341146,293.040210,308.231636,324.605942,341.822037,359.514310,377.300397,394.789443,411.590689,427.322191,441.619484,454.143986,464.590953,472.696804,478.245627,481.074733,481.079087,478.214530,472.499685,464.016486,452.909306,439.382679,423.697646,406.166786,387.148034,367.037396,346.260716,325.264659,304.507114,284.447203,265.535138,248.202124,232.850561,219.844744,209.502288,202.086477,197.799714,196.778235,199.088230,204.723455,213.604423,225.579216,240.425897,257.856514,277.522612,299.022156,321.907720,345.695788,369.876962,393.926872,417.317544,439.528992,460.060762,478.443194,494.248129,507.098832,516.678889,522.739882,525.107651,523.686992,518.464659,509.510607,496.977399,481.097798,462.180555,440.604484,416.810919,391.294718,364.593984,337.278724,309.938685,283.170617,257.565253,233.694275,212.097565,193.271021,177.655209,165.625112,157.481223,153.442169,153.639072,158.111765,166.806982,179.578571,196.189752,216.317386,239.558187,265.436751,293.415249,322.904592,353.276822,383.878484,414.044681,443.113524,470.440651,495.413496,517.465009,536.086497,550.839311,561.365111,567.394458,568.753547,565.368900,557.269907,544.589136,527.560381,506.514484,481.872983,454.139722,423.890583,391.761545,358.435324,324.626869,291.068025,258.491692,227.615819,199.127590,173.668141,151.818155,134.084655,120.889297,112.558423,109.315126,111.273494,118.435200,130.688511,147.809775,169.467369,195.228033,224.565485,256.871137,291.466697,327.618401,364.552568,401.472160,437.573977,472.066135,504.185429,533.214209,558.496403,579.452307,595.591840,606.525935,611.975817,611.779942,605.898439,594.414917,577.535602,555.585783,529.003634,498.331530,464.205013,427.339651,388.516046,348.563311,308.341366,268.722433,230.572118,194.730502,161.993651,133.095946,108.693635,89.349960,75.522217,67.551019,65.652039,69.910407,80.277924,96.573152,118.484420,145.575680,177.295127,212.986396,251.902114,293.219539,336.057946,379.497393,422.598480,464.422664,504.052689,540.612708,573.287619,601.341228,624.132804,641.131669,651.929493,656.250000];
    //List<double> Y = [500.000000,499.849878,499.405997,498.687602,497.726072,496.563903,495.253318,493.854555,492.433875,491.061351,489.808507,488.745869,487.940497,487.453591,487.338218,487.637250,488.381564,489.588568,491.261105,493.386764,495.937638,498.870534,502.127656,505.637725,509.317545,513.073957,516.806146,520.408245,523.772165,526.790587,529.360025,531.383891,532.775467,533.460710,533.380794,532.494342,530.779241,528.234016,524.878693,520.755120,515.926726,510.477706,504.511630,498.149521,491.527401,484.793389,478.104389,471.622456,465.510914,459.930324,455.034404,450.965985,447.853130,445.805501,444.911068,445.233270,446.808691,449.645324,453.721500,458.985491,465.355850,472.722470,480.948372,489.872180,499.311260,509.065443,518.921270,528.656664,538.045920,546.864919,554.896426,561.935362,567.793915,572.306367,575.333525,576.766624,576.530615,574.586739,570.934308,565.611648,558.696141,550.303367,540.585342,529.727858,517.946999,505.484867,492.604620,479.584921,466.713905,454.282810,442.579398,431.881322,422.449597,414.522313,408.308746,403.984024,401.684453,401.503650,403.489574,407.642532,413.914246,422.207998,432.379880,444.241148,457.561623,472.074104,487.479697,503.453955,519.653707,535.724428,551.308001,566.050686,579.611130,591.668240,601.928720,610.134125,616.067229,619.557589,620.486134,618.788685,614.458289,607.546316,598.162259,586.472225,572.696144,557.103714,540.009185,521.765053,502.754810,483.384888,464.075973,445.253865,427.340094,410.742493,395.845933,383.003447,372.527925,364.684587,359.684419,357.678712,358.754865,362.933538,370.167265,380.340551,393.271485,408.714857,426.366714,445.870286,466.823167,488.785594,511.289671,533.849336,555.970860,577.163649,596.951117,614.881387,630.537581,643.547460,653.592205,660.414118,663.823065,663.701511,660.008007,652.779031,642.129145,628.249411,611.404107,591.925790,570.208784,546.701235,521.895884,496.319746,470.522921,445.066754,420.511630,397.404636,376.267385,357.584264,341.791369,329.266386,320.319637,315.186523,314.021528,316.893940,323.785400,334.589357,349.112455,367.077845,388.130370,411.843525,437.728061,465.242056,493.802249,522.796400,551.596417,579.571957,606.104223,630.599643,652.503134,671.310650,686.580743,697.944854,705.116110,707.896418,706.181675,699.964969,689.337673,674.488406,655.699836,633.343399,607.872020,579.810977,549.747089,518.316465,486.191042,454.064229,422.635936,392.597327,364.615629,339.319315,317.284018,299.019460,284.957714,275.443063,270.723682,270.945362,276.147411,286.260852,301.108977,320.410263,343.783605,370.755773,400.770955,433.202182,467.364406,502.528969,537.939136,572.826385,606.427082,637.999198,666.838681,692.295147,713.786517,730.812288,742.965128,749.940526,751.544280,747.697632,738.439918,723.928669,704.437121,680.349180,652.151938,620.425860,585.832873,549.102563,511.016806,472.393119,434.067121,396.874447,361.632535,329.122664,300.072645,275.140546,254.899819,239.826161,230.286401,226.529694,228.681202,236.738444,250.570398,269.919401,294.405828,323.535463,356.709429,393.236462,432.347303,473.210881,514.951976,556.669956,597.458212,636.423861,672.707286,705.501094,734.068066,757.757702,776.020998,788.423110,794.653616,794.534138,788.023149,775.217814,756.352834,731.796280,702.042497,667.702202,629.489982,588.209449,544.736352,500.000000];

    for(int i = 1 ; i < X.length ; i++){
      _Spiral.add(Offset(X[i],Y[i]));
    }
    return _Spiral;
  }

  List<Offset?> VLine (){
    //1000 -> 100, 900, gap 70
    //500 -> 50, 450, gap 35
    var gap = 35;
    for(double s = 2 ; s<=8; s = s+2){
      for (double i = 50 ; i <=450; i++ ){
        _VLine.add(Offset(gap*s,i));
      }
      _VLine.add(null);
    }
    return _VLine;
  }

  List<Offset?> HLine (){
    //1000 -> 100, 900, gap 70
    //500 -> 50, 450, gap 35
    var gap = 35;
    for(double s = 2 ; s<=8; s = s+2){
      for (double i = 50 ; i <=450; i++ ){
        _HLine.add(Offset(i,gap*s));
      }
      _HLine.add(null);
    }
    return _HLine;
  }

  List<Offset?> Letters(){
    return _Letters;
  }


  @override
  void paint(Canvas canvas, Size size) {

    if (tempType == 0){
      offset = Spiral();
    }
    else if (tempType == 1){
      offset = VLine();
    }
    else if(tempType == 2){
      offset = HLine();
    }
    else if(tempType == 3){
      offset = Letters();
    }

    final paint = Paint()
      ..color = Colors.grey
      ..isAntiAlias = true
      ..strokeCap = StrokeCap.round
      ..strokeWidth = 8;

    for (var i = 0; i < offset.length - 1; i++) {
      if (offset[i] != null && offset[i + 1] != null) {
        canvas.drawLine(offset[i]!, offset[i + 1]!, paint);
      } else if (offset[i] != null && offset[i + 1] == null) {
        canvas.drawPoints(ui.PointMode.points, [offset[i]!], paint);
      }
    }
  }

  @override
  bool shouldRepaint(CustomPainter oldDelegate) => true;
}

